{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  {% include 'blog/partials/_head.html' %}
  {% block css %}{% endblock %}
</head>
<body>

  <!-- Header Section -->
  {% include 'blog/partials/_header.html' %}

  <main class="container content">
    {% block content %}
    <!-- Content of the page -->
    {% endblock %}
  </main>

  <!-- Pagination Section ~ Not use pagination in base, its here for tests -->
  {% include 'blog/partials/_pagination.html' %}

  <!-- Footer Section -->
  {% include 'blog/partials/_footer.html' %}

  {% block js %}
  <script>
    (function() {
      const html = document.documentElement;
      const themeToggleBtn = document.getElementById('theme-toggle');
      const hamburger = document.getElementById('hamburger');
      const navMenu = document.getElementById('nav-menu');
      const THEME_KEY = 'theme';

      // Apply stored theme
      const stored = localStorage.getItem(THEME_KEY);
      if (stored === 'light') html.classList.add('light-theme');

      // Theme toggle
      function updateThemeIcon() {
        const icon = themeToggleBtn.querySelector('.theme-icon');
        icon.textContent = html.classList.contains('light-theme') ? 'ðŸŒž' : 'ðŸŒ™';
      }

      themeToggleBtn.addEventListener('click', () => {
        html.classList.toggle('light-theme');
        const mode = html.classList.contains('light-theme') ? 'light' : 'dark';
        localStorage.setItem(THEME_KEY, mode);
        updateThemeIcon();
      });

      // Hamburger toggle
      if (hamburger && navMenu) {
        hamburger.addEventListener('click', () => {
          hamburger.classList.toggle('active');
          navMenu.classList.toggle('open');
        });
      }

      updateThemeIcon();
    })();
  </script>
  {% endblock %}


